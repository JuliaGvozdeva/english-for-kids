(()=>{"use strict";const e=[{name:"Action (set A)",imgPath:"img/jump.jpg"},{name:"Action (set B)",imgPath:"img/sleep.jpg"},{name:"Action (set C)",imgPath:"img/sing.jpg"},{name:"Adjective",imgPath:"img/big.jpg"},{name:"Animal (set A)",imgPath:"img/bird.jpg"},{name:"Animal (set B)",imgPath:"img/mouse.jpg"},{name:"Clothes",imgPath:"img/clothes.jpg"},{name:"Emotions",imgPath:"img/smile.jpg"}],t=[[{word:"cry",translation:"плакать",image:"img/cry.jpg",audioSrc:"audio/cry.mp3"},{word:"dance",translation:"танцевать",image:"img/dance.jpg",audioSrc:"audio/dance.mp3"},{word:"dive",translation:"нырять",image:"img/dive.jpg",audioSrc:"audio/dive.mp3"},{word:"draw",translation:"рисовать",image:"img/draw.jpg",audioSrc:"audio/draw.mp3"},{word:"fish",translation:"ловить рыбу",image:"img/fish.jpg",audioSrc:"audio/fish.mp3"},{word:"fly",translation:"летать",image:"img/fly.jpg",audioSrc:"audio/fly.mp3"},{word:"hug",translation:"обнимать",image:"img/hug.jpg",audioSrc:"audio/hug.mp3"},{word:"jump",translation:"прыгать",image:"img/jump.jpg",audioSrc:"audio/jump.mp3"}],[{word:"seat",translation:"сидеть",image:"img/seat.jpg",audioSrc:"audio/seat.mp3"},{word:"write",translation:"писать",image:"img/write.jpg",audioSrc:"audio/write.mp3"},{word:"present",translation:"дарить",image:"img/present.jpg",audioSrc:"audio/present.mp3"},{word:"speak",translation:"говорить",image:"img/speak.jpg",audioSrc:"audio/speak.mp3"},{word:"sleep",translation:"спать",image:"img/sleep.jpg",audioSrc:"audio/sleep.mp3"},{word:"eat",translation:"кушать",image:"img/eat.jpg",audioSrc:"audio/eat.mp3"},{word:"break",translation:"ломать",image:"img/break.jpg",audioSrc:"audio/break.mp3"},{word:"clean",translation:"чистить",image:"img/clean.jpg",audioSrc:"audio/clean.mp3"}],[{word:"open",translation:"открывать",image:"img/open.jpg",audioSrc:"audio/open.mp3"},{word:"play",translation:"играть",image:"img/play.jpg",audioSrc:"audio/play.mp3"},{word:"point",translation:"указывать",image:"img/point.jpg",audioSrc:"audio/point.mp3"},{word:"ride",translation:"ездить",image:"img/ride.jpg",audioSrc:"audio/ride.mp3"},{word:"run",translation:"бегать",image:"img/run.jpg",audioSrc:"audio/run.mp3"},{word:"sing",translation:"петь",image:"img/sing.jpg",audioSrc:"audio/sing.mp3"},{word:"skip",translation:"пропускать, прыгать",image:"img/skip.jpg",audioSrc:"audio/skip.mp3"},{word:"swim",translation:"плавать",image:"img/swim.jpg",audioSrc:"audio/swim.mp3"}],[{word:"red",translation:"красный",image:"img/red.jpg",audioSrc:"audio/red.mp3"},{word:"big",translation:"большой",image:"img/big.jpg",audioSrc:"audio/big.mp3"},{word:"small",translation:"маленький",image:"img/small.jpg",audioSrc:"audio/small.mp3"},{word:"slow",translation:"медленный",image:"img/slow.jpg",audioSrc:"audio/slow.mp3"},{word:"young",translation:"молодой",image:"img/young.jpg",audioSrc:"audio/young.mp3"},{word:"old",translation:"старый",image:"img/old.jpg",audioSrc:"audio/old.mp3"},{word:"fast",translation:"быстрый",image:"img/fast.jpg",audioSrc:"audio/fast.mp3"},{word:"friendly",translation:"дружелюбный",image:"img/friendly.jpg",audioSrc:"audio/friendly.mp3"}],[{word:"cat",translation:"кот",image:"img/cat.jpg",audioSrc:"audio/cat.mp3"},{word:"chick",translation:"цыплёнок",image:"img/chick.jpg",audioSrc:"audio/chick.mp3"},{word:"chicken",translation:"курица",image:"img/chicken.jpg",audioSrc:"audio/chicken.mp3"},{word:"dog",translation:"собака",image:"img/dog.jpg",audioSrc:"audio/dog.mp3"},{word:"horse",translation:"лошадь",image:"img/horse.jpg",audioSrc:"audio/horse.mp3"},{word:"pig",translation:"свинья",image:"img/pig.jpg",audioSrc:"audio/pig.mp3"},{word:"rabbit",translation:"кролик",image:"img/rabbit.jpg",audioSrc:"audio/rabbit.mp3"},{word:"sheep",translation:"овца",image:"img/sheep.jpg",audioSrc:"audio/sheep.mp3"}],[{word:"bird",translation:"птица",image:"img/bird.jpg",audioSrc:"audio/bird.mp3"},{word:"fish",translation:"рыба",image:"img/fish1.jpg",audioSrc:"audio/fish.mp3"},{word:"frog",translation:"жаба",image:"img/frog.jpg",audioSrc:"audio/frog.mp3"},{word:"giraffe",translation:"жирафа",image:"img/giraffe.jpg",audioSrc:"audio/giraffe.mp3"},{word:"lion",translation:"лев",image:"img/lion.jpg",audioSrc:"audio/lion.mp3"},{word:"mouse",translation:"мышь",image:"img/mouse.jpg",audioSrc:"audio/mouse.mp3"},{word:"turtle",translation:"черепаха",image:"img/turtle.jpg",audioSrc:"audio/turtle.mp3"},{word:"dolphin",translation:"дельфин",image:"img/dolphin.jpg",audioSrc:"audio/dolphin.mp3"}],[{word:"jeans",translation:"джинсы",image:"img/jeans.jpg",audioSrc:"audio/jeans.mp3"},{word:"sweater",translation:"свитер",image:"img/sweater.jpg",audioSrc:"audio/sweater.mp3"},{word:"dress",translation:"платье",image:"img/dress.jpg",audioSrc:"audio/dress.mp3"},{word:"jacket",translation:"куртка",image:"img/jacket.jpg",audioSrc:"audio/jacket.mp3"},{word:"cap",translation:"шапка",image:"img/cap.jpg",audioSrc:"audio/cap.mp3"},{word:"t-shirt",translation:"футболка",image:"img/t-shirt.jpg",audioSrc:"audio/t-shirt.mp3"},{word:"boot",translation:"сапоги",image:"img/boot.jpg",audioSrc:"audio/boot.mp3"},{word:"scarf",translation:"шарф",image:"img/scarf.jpg",audioSrc:"audio/scarf.mp3"}],[{word:"sad",translation:"грустный",image:"img/sad.jpg",audioSrc:"audio/sad.mp3"},{word:"angry",translation:"сердитый",image:"img/angry.jpg",audioSrc:"audio/angry.mp3"},{word:"happy",translation:"счастливый",image:"img/happy.jpg",audioSrc:"audio/happy.mp3"},{word:"tired",translation:"уставший",image:"img/tired.jpg",audioSrc:"audio/tired.mp3"},{word:"surprised",translation:"удивлённый",image:"img/surprised.jpg",audioSrc:"audio/surprised.mp3"},{word:"scared",translation:"испуганный",image:"img/scared.jpg",audioSrc:"audio/scared.mp3"},{word:"smile",translation:"улыбка",image:"img/smile.jpg",audioSrc:"audio/smile.mp3"},{word:"envy",translation:"зависть",image:"img/envy.jpg",audioSrc:"audio/envy.mp3"}]];class a{constructor(e){this.cardsDetail=t,this.catId=e,this.audioList=this.audioGenerate(),this.lastAudioList=[]}audioGenerate(){const e=[];return this.cardsDetail[this.catId].forEach((t=>{e.push(t.audioSrc)})),e}newGame(){document.querySelector(".start-overlay").classList.remove("active"),document.querySelector(".start-play").remove(),this.createRepeateButton(),document.getElementById("audio-play").play(),this.repeateAudio(),this.play()}audioRandomGenerate(){let e=Math.floor(Math.random()*Math.floor(this.audioList.length));if(this.lastAudioList.length!==this.audioList.length){for(;this.lastAudioList.includes(e);)e=Math.floor(Math.random()*Math.floor(this.audioList.length));return this.lastAudioList.push(e),this.audioList[e]}}createRepeateButton(){const e=document.createElement("div");e.classList.add("repeate-container");const t=document.createElement("button");t.classList.add("repeate-game"),t.innerHTML='<i class="material-icons">autorenew</i>';const a=document.createElement("audio");a.src="assets/"+this.audioRandomGenerate(),a.id="audio-play",e.appendChild(t),e.appendChild(a),document.querySelector(".main.wraper").appendChild(e)}repeateAudio(){document.querySelector(".repeate-game").addEventListener("click",(()=>{document.getElementById("audio-play").play()}))}play(){"Play"===document.querySelector(".mode-text").innerText&&document.querySelectorAll(".card-play").forEach((e=>{e.addEventListener("click",(()=>{const t=document.getElementById("audio-play"),a=e.lastChild.src,i=t.src,o=document.getElementById("success-attempt");a===i?(e.classList.add("victory"),this.addAttempts(1),t.src="assets/"+this.audioRandomGenerate(),o.addEventListener("ended",(()=>{0!=document.querySelectorAll(".card-play").length&&t.play()}))):this.addAttempts(0)}))}))}addAttempts(e){const t=document.querySelector(".attempts-container"),a=document.createElement("div");a.classList.add("attempt"),e?(document.getElementById("success-attempt").play(),a.style.backgroundImage="url(assets/img/star-win.svg)",a.classList.add("win")):(document.getElementById("unsuccess-attempt").play(),a.style.backgroundImage="url(assets/img/star.svg)",a.classList.add("over")),t.appendChild(a),this.showWin()}showWin(){const e=document.querySelector(".attempts-container"),t=document.querySelectorAll(".win").length,a=document.querySelectorAll(".over").length,i=document.querySelector(".cards-container"),o=document.createElement("div");o.classList.add("game-status");const n=document.createElement("img"),r=document.createElement("span");t===this.cardsDetail[this.catId].length&&(document.querySelector(".repeate-container").innerHTML="",e.innerHTML="",i.innerHTML="",n.src="assets/img/success.jpg",document.getElementById("win-audio").play(),r.innerText="This game is yours!",o.appendChild(n),o.appendChild(r),i.appendChild(o),setTimeout((()=>{window.location="http://127.0.0.1:5500/"}),3e3)),8===t&&a>0&&(document.querySelector(".repeate-container").innerHTML="",e.innerHTML="",i.innerHTML="",n.src="assets/img/failure.jpg",r.innerText="You lost. Number of wrong answers: "+a,o.appendChild(n),o.appendChild(r),i.appendChild(o),setTimeout((()=>{window.location="http://127.0.0.1:5500/"}),3e3))}}class i{constructor(e){this.cards=e}cardInit(e){const t=document.querySelector(".mode-text"),a=document.querySelector(".cards-container");a.innerHTML="","Train"===t.innerText?(document.querySelector(".repeate-container")&&document.querySelector(".repeate-container").remove(),this.createTrainCard(e,a),this.setListenerForTrainCard()):"Play"===t.innerText&&(this.createPlayModeCard(e,a),this.createStartButton(),this.setListenerForPlayCard(e))}createTrainCard(e,t){this.cards[e].forEach((e=>{const a=document.createElement("div");a.classList.add("card-train"),a.setAttribute("data-card-id",e.word),a.append(this.createFrontCard(e)),a.append(this.createBackCard(e)),t.appendChild(a)}))}createPlayModeCard(e,t){this.cards[e].forEach((e=>{const a=document.createElement("div");a.classList.add("card-play"),a.setAttribute("data-card-id",e.word),a.append(this.createPlayCard(e)),t.appendChild(a)}))}createFrontCard(e){const t=document.createDocumentFragment(),a=document.createElement("div");a.classList.add("front");const i=document.createElement("div");i.classList.add("card-train_img");const o=document.createElement("img");o.src="assets/"+e.image,i.appendChild(o);const n=document.createElement("div");n.classList.add("card-name");const r=document.createElement("span");r.innerText=e.word;const d=document.createElement("audio");d.src="assets/"+e.audioSrc,n.appendChild(r),n.appendChild(d);const s=document.createElement("div");return s.classList="refresh-button_word",s.innerHTML='<i class="material-icons">autorenew</i>',a.appendChild(i),a.appendChild(n),a.appendChild(s),t.appendChild(a),t}createBackCard(e){const t=document.createDocumentFragment(),a=document.createElement("div");a.classList.add("back");const i=document.createElement("div");i.classList.add("card-name"),i.innerText=e.translation;const o=document.createElement("div");o.classList.add("card-item_img");const n=document.createElement("img");return n.src="assets/"+e.image,o.appendChild(n),a.appendChild(o),a.appendChild(i),t.appendChild(a),t}createPlayCard(e){const t=document.createDocumentFragment(),a=document.createElement("div");a.classList.add("card-play_img");const i=document.createElement("img");i.src="assets/"+e.image,a.appendChild(i);const o=document.createElement("audio");return o.src="assets/"+e.audioSrc,t.appendChild(a),t.appendChild(o),t}createStartButton(){const e=document.createElement("button");e.classList.add("start-play"),e.innerText+="Play",document.querySelector(".start-overlay").classList.toggle("active"),document.querySelector(".main.wraper").appendChild(e)}setListenerForPlayCard(e){document.querySelector(".start-play").addEventListener("click",(()=>{new a(e).newGame()}))}setListenerForTrainCard(){document.querySelectorAll(".refresh-button_word").forEach((e=>{e.addEventListener("click",(function(){const t=e.parentElement.parentElement,a=e.parentElement.parentElement.lastChild;t.classList.add("active"),a.addEventListener("mouseleave",(()=>{t.classList.remove("active")}))}))})),document.querySelectorAll(".front").forEach((e=>{e.addEventListener("click",(function(t){const a=t.target.className;"refresh-button_word"!==a&&"material-icons"!==a&&e.childNodes.forEach((e=>{"card-name"==e.className&&e.lastChild.play()}))}))}))}}class o{constructor(){}init(){const t=document.querySelector(".cards-container");let a=0;t.innerHTML="",e.forEach((e=>{const i=document.createElement("a");i.classList.add("card-item"),i.href="#/category-"+a,i.id=a;const o=document.querySelector(".mode-text");"Train"===o.innerText?i.classList.contains("play-active")?i.classList.remove("play-active"):i.classList.contains("train-active")||i.classList.toggle("train-active"):"Play"===o.innerText&&(i.classList.contains("train-active")?i.classList.remove("train-active"):i.classList.contains("play-active")||i.classList.toggle("play-active"));const n=document.createElement("div");n.classList.add("card-img");const r=document.createElement("img");r.src="assets/"+e.imgPath,n.appendChild(r);const d=document.createElement("div");d.classList.add("card-name"),d.innerText=e.name,i.appendChild(n),i.appendChild(d),t.appendChild(i),a++})),this.startListener()}startListener(){const e=new i(t);document.querySelectorAll(".card-item").forEach((t=>{t.addEventListener("click",(function(){e.cardInit(t.id),document.querySelector(".menu-item.active").classList.remove("active"),document.getElementById(t.id).firstChild.classList.add("active")}))}))}}document.addEventListener("DOMContentLoaded",(function(){(new o).init()}));const n=document.querySelector(".menu-icon"),r=document.querySelector(".mode-button"),d=document.querySelector(".mode-text"),s=document.querySelector(".mode-icon"),c=document.querySelectorAll(".menu-item"),m=document.querySelector(".overlay");function l(){document.querySelector(".menu-icon span").classList.toggle("active"),document.querySelector(".menu-container").classList.toggle("active"),m.classList.toggle("active"),n.classList.toggle("active")}function u(){document.querySelector(".menu-icon span").classList.remove("active"),document.querySelector(".menu-container").classList.remove("active"),m.classList.remove("active"),n.classList.remove("active")}n.addEventListener("click",(function(){l(),function(){const e=new o,a=new i(t);document.querySelectorAll(".menu-item").forEach((t=>{t.addEventListener("click",(function(){t.hasAttribute("category_link")&&(a.cardInit(t.parentElement.id),document.querySelector(".menu-item.active").classList.remove("active"),t.classList.add("active"),u()),t.hasAttribute("main")&&(document.querySelector(".menu-item.active").classList.remove("active"),t.classList.add("active"),e.init(),"Play"===d.innerText&&(document.querySelector(".start-overlay").classList.remove("active"),document.querySelector(".start-play").remove()),u())}))}))}()})),m.addEventListener("click",(function(){l()})),r.addEventListener("click",(function(){!function(){r.classList.toggle("play"),s.classList.add("active"),r.classList.contains("play")?(n.classList.toggle("play"),c.forEach((e=>{e.classList.toggle("play")})),d.innerText="Play"):(n.classList.toggle("play"),c.forEach((e=>{e.classList.toggle("play")})),d.innerText="Train");const e=window.location.hash.split("-"),a=e[e.length-1];window.location.hash.includes("#/category")?function(e){new i(t).cardInit(e)}(a):document.querySelectorAll(".card-item").forEach((e=>{e.classList.toggle("train-active"),e.classList.toggle("play-active")})),s.addEventListener("animationend",(()=>{s.classList.remove("active")}))}()}))})();